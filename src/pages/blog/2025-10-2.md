---
layout: ../../layouts/postLayout.astro

title: 条件付き確率が分からない
date: 2025-10-02
---

最近、こんな本を読み始めた。

<img src="/assets/2025-10-2/1.jpeg" width="50%">

[商品ページ](https://www.oreilly.co.jp/books/9784814401260/)

オライリーから出た**データサイエンスのための数学入門**である。
(リンクはると分かりやすくページが出るようにしたい...)

学生のころは数学が本当に苦手で、この教科だけ偏差値が20違った。
もちろん最初から文系志望、国立だったから一応高校までやってたけど、特に初見の問題は一向に解ける気がしなかったし、できれば一生やりたくないと思っていた。
しかし何の因果だろうか、現在エンジニアとして働いている。
となるとやっぱり、数学は必須でしょう、いや実際数学的知識が必要な場面などほとんどないが、もはや一つのコンプレックスなのであった。

まだ二章の途中まで読んだだけだが、数学入門と銘打っただけあって、ここまでの内容は実に平易だ。
離散数学を中心に高校で習ったような定理をゆっくりおさらいする、テストの点数も気にせず、まったりタバコでも吸いながらする勉強、意外と面白い。

しかし、それでも、もう分からなくなっちゃった。何がわからない？条件付き確率がわからない。これは学生のころから本当に苦しんだところだなあ。

事象Aと事象Bがあって、両者は背反ではない、だからAもBも起こった！ということがあり得る。
そんなとき、「Aが起こった場合のなかでBが起こる場合」を考える。
本書では「がん患者の85%がコーヒーを飲んでいる」というフレーズを例に説明される。
うん、ここまではわかる。

じゃあ結局、コーヒーを飲んでいる人の何%ががん患者なんだい？これを求めるために紹介されたのが、このベイズの定理。
```math
P(A|B) = P(B|A)*P(A)/P(B)
```
この公式を当てはめれば、逆方向の条件付き確率が求まるらしいです。

え⁉️なんで⁉️
突然お出しされた$P(A)/P(B)$ってなに⁉️
Aの確率をBで割ったこれって何の指標⁉️
てか数学の人が使う求まるって単語ガチでキモすぎるだろ⁉️

そこからさらに結合確率とも結びついてきて、もうわけがわからない、気持ち悪い。
なにが気持ち悪いかというと、やっぱりこの数式がどういう事態を表現したいか伝わってこないということだろう。
なんか、この状態のときAかつBの確率が欲しかったら、単に$P(A)$と$P(B)$を掛け合わせたらだめらしい。$P(A|B)*P(B)$じゃないといけないんだって。
なんでだよ⁉️

ちゃとじぴ先生に聞いたら、どうやら条件付き確率はつねにこういう式が成り立つらしい。
```math
P(A|B) = P(A\cap B)/P(B)
```
ベイズの定理もなんかこれをコネコネすれば勝手にでてくる。なんじゃそりゃ⁉️
で、この$P(A\cap B)$、独立のときは$P(A)*P(B)$で出てくるんだけど、そうじゃなかったら条件付き確率経由で出してくるしかないらしい。ほんまか⁉️
ChatGPTってこういう普遍的な数学の法則とかでもハルシネーション起こすものなんでしょうか。
だとしたらもうなにもできませんよ⁉️

ほんと数学ってこういうところなんだよな。
抽象的な議論から始まって、途中で現実を説明することを放棄する(ように俺には見える)。
得意な奴らはパズルゲームに熱中する。俺はその式が表現することに想像力が追いつかない。
こうして、俺は敗北したんだ。

青春時代のほろ苦い思い出が、蘇ってきた...

---
ちなみに、astroのマークダウンで数式を描画できるようにする方法は[ここ](https://a.conao3.com/blog/2023/11bb-5375/)に書いてあった。プラグインを入れればなんでもやり放題！夢いっぱい！